name: upgrade package versions

on:
  workflow_dispatch:
  push:
      branches:
        - test4

jobs:
  upgrade-package-versions:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Checkout iTwin/studio repository
        uses: actions/checkout@v4
        
      - name: Set and Retrieve Github ENV variables
        shell: bash
        run: |
    
          # define variables      
          tests=16
          failures=2
    
          # set them as GitHub ENV variables
          echo "Tests=$tests" >> $GITHUB_ENV
          echo "Failures=failures" >> $GITHUB_ENV
    
          # retrieve these GitHub ENV variables
          echo "$failures out of ${{ env.Tests }} tests failed on CI"